{
    "$schema": "https://raw.githubusercontent.com/RedCMD/TmLanguage-Syntax-Highlighter/main/vscode.tmLanguage.schema.json",
    "scopeName": "source.comment.message.block",
    "injectionSelector": "L:comment.block",
    "patterns": [
        { "include": "text.html.markdown#inline" },
        {
            "comment": "匹配 ${xxx} 模板字符串，支持多种前缀",
            "match": "[$#@!]\\{([^}]+)\\}",
            "name": "keyword.operator.or.regexp",
            "captures": { "1": { "name": "variable" } }
        },
        {
            "comment": "匹配以 # 开头的标题或行拆分符",
            "begin": "(?<=^|\\G)([ \t]*)#[# ]",
            "while": "(?<=^|\\G)\\1 ",
            "name": "markup.heading"
        },
        {
            "comment": "匹配 Markdown 列表",
            "begin": "(?<=^|\\G)([ \t]*)(?:[-+*]|\\d+\\.)[ \t]",
            "while": "(?<=^|\\G)\\1 ",
            "name": " constant.numeric"
        },
        { "comment": "匹配日志消息" },
        {
            "begin": "(?<=^|\\G)([ \t]*)log:",
            "while": "(?<=^|\\G)\\1 ",
            "name": "entity.name.label"
        },
        {
            "begin": "(?<=^|\\G)([ \t]*)info:",
            "while": "(?<=^|\\G)\\1 ",
            "name": "meta.preprocessor.numeric"
        },
        {
            "begin": "(?<=^|\\G)([ \t]*)note:",
            "while": "(?<=^|\\G)\\1 ",
            "name": "comment.todos.note"
        },
        {
            "begin": "(?<=^|\\G)([ \t]*)warn(?:ing)?:",
            "while": "(?<=^|\\G)\\1 ",
            "name": "constant.character.escape"
        },
        {
            "begin": "(?<=^|\\G)([ \t]*)errors?:",
            "while": "(?<=^|\\G)\\1 ",
            "name": "invalid"
        },
        { "comment": "https://unpkg.com/shiki@0.14.7/languages/markdown.tmLanguage.json" },
        { "include": "text.html.markdown#blockquote" },
        { "include": "text.html.markdown#fenced_code_block_css" },
        { "include": "text.html.markdown#fenced_code_block_basic" },
        { "include": "text.html.markdown#fenced_code_block_ini" },
        { "include": "text.html.markdown#fenced_code_block_java" },
        { "include": "text.html.markdown#fenced_code_block_lua" },
        { "include": "text.html.markdown#fenced_code_block_makefile" },
        { "include": "text.html.markdown#fenced_code_block_perl" },
        { "include": "text.html.markdown#fenced_code_block_r" },
        { "include": "text.html.markdown#fenced_code_block_ruby" },
        { "include": "text.html.markdown#fenced_code_block_php" },
        { "include": "text.html.markdown#fenced_code_block_sql" },
        { "include": "text.html.markdown#fenced_code_block_vs_net" },
        { "include": "text.html.markdown#fenced_code_block_xml" },
        { "include": "text.html.markdown#fenced_code_block_xsl" },
        { "include": "text.html.markdown#fenced_code_block_yaml" },
        { "include": "text.html.markdown#fenced_code_block_dosbatch" },
        { "include": "text.html.markdown#fenced_code_block_clojure" },
        { "include": "text.html.markdown#fenced_code_block_coffee" },
        { "include": "text.html.markdown#fenced_code_block_c" },
        { "include": "text.html.markdown#fenced_code_block_cpp" },
        { "include": "text.html.markdown#fenced_code_block_diff" },
        { "include": "text.html.markdown#fenced_code_block_dockerfile" },
        { "include": "text.html.markdown#fenced_code_block_git_commit" },
        { "include": "text.html.markdown#fenced_code_block_git_rebase" },
        { "include": "text.html.markdown#fenced_code_block_go" },
        { "include": "text.html.markdown#fenced_code_block_groovy" },
        { "include": "text.html.markdown#fenced_code_block_pug" },
        { "include": "text.html.markdown#fenced_code_block_js" },
        { "include": "text.html.markdown#fenced_code_block_js_regexp" },
        { "include": "text.html.markdown#fenced_code_block_json" },
        { "include": "text.html.markdown#fenced_code_block_jsonc" },
        { "include": "text.html.markdown#fenced_code_block_less" },
        { "include": "text.html.markdown#fenced_code_block_objc" },
        { "include": "text.html.markdown#fenced_code_block_swift" },
        { "include": "text.html.markdown#fenced_code_block_scss" },
        { "include": "text.html.markdown#fenced_code_block_perl6" },
        { "include": "text.html.markdown#fenced_code_block_powershell" },
        { "include": "text.html.markdown#fenced_code_block_python" },
        { "include": "text.html.markdown#fenced_code_block_julia" },
        { "include": "text.html.markdown#fenced_code_block_regexp_python" },
        { "include": "text.html.markdown#fenced_code_block_rust" },
        { "include": "text.html.markdown#fenced_code_block_scala" },
        { "include": "text.html.markdown#fenced_code_block_shell" },
        { "include": "text.html.markdown#fenced_code_block_ts" },
        { "include": "text.html.markdown#fenced_code_block_tsx" },
        { "include": "text.html.markdown#fenced_code_block_csharp" },
        { "include": "text.html.markdown#fenced_code_block_fsharp" },
        { "include": "text.html.markdown#fenced_code_block_dart" },
        { "include": "text.html.markdown#fenced_code_block_handlebars" },
        { "include": "text.html.markdown#fenced_code_block_markdown" },
        { "include": "text.html.markdown#fenced_code_block_log" },
        { "include": "text.html.markdown#fenced_code_block_erlang" },
        { "include": "text.html.markdown#fenced_code_block_elixir" },
        { "include": "text.html.markdown#fenced_code_block_latex" },
        { "include": "text.html.markdown#fenced_code_block_bibtex" },
        { "include": "text.html.markdown#fenced_code_block_twig" }
    ]
}
